<!DOCTYPE html>
<link rel="shortcut icon" href="/favicon.ico">
<html lang="en">
<head>
  <title>query intent</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="/main.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="/queryIntent.js"></script>
  <script src="/js/common.js"></script>
</head>
<body>
<noscript><h2 style="color: #ff0000">Enable Javascript to view this page</h2></noscript>
<div id="main-content" class="container">
  <div class="row">
    <div class="col-md-6">
      <form class="form-inline">
        <div class="form-group">
          <label for="connect">WebSocket connection:</label>
          <div class="row">
            <button id="connect" class="btn btn-default" type="submit">Connect</button>
          </div>
          <div class="row">
            <button id="disconnect" class="btn btn-default" type="submit" disabled="disabled">WebSocket Disconnect
            </button>
          </div>
          <div class="row">
            <button id="reqclose" class="btn btn-default" type="submit" disabled="disabled">Nostr Close Disconnect
            </button>
          </div>
        </div>
      </form>
    </div>
    <div class="col-md-6">
      <form class="form-horizontal">
        <label for="connect">Search Filters:</label>
<!--        <div class="form-group">-->
<!--          <label for="idcontent">Reference Event ID: </label>-->
<!--          <input type="text" value="1111111111" id="idcontent" class="form-control" placeholder="message...">-->
<!--        </div>-->

<!--        <select name="pubkey" id="pubkey">-->
<!--          <label for="pubkey">User Pubkey: </label>-->
<!--          <option value="hhhd79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984">hhhd79f81</option>-->
<!--        </select>-->

        <div class="form-group">
<!--          <label for="authors1">Author Filter: </label>-->
<!--          <select name="authors1" id="authors1">-->
<!--            <option value="aaad79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984">aaad79f81</option>-->
<!--            <option value="bbbd79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984">bbbd79f81</option>-->
<!--            <option value="cccd79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984">cccd79f81</option>-->
<!--          </select>-->
          <label for="kind">kind: </label>
          <input type="text" id="kind" name="kind" value=30077 readonly>
<!--          <input type="hidden" id="e_tag" name="e_tag"-->
<!--                 value="494001ac0c8af2a10f60f23538e5b35d3cdacb8e1cc956fe7a16dfa5cbfc4346">-->
<!--          <input type="hidden" id="p_tag" name="p_tag"-->
<!--                 value="2bed79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984">-->

<!--          <input type="hidden" id="kinds" name="kinds" value=2>-->
<!--          <input type="hidden" id="referencedEvents" name="referencedEvents"-->
<!--                 value="111843d54a8fdab39aa45f61f19f3ff79cc19385370f6a272dda81fade0a052b">-->
<!--          <input type="hidden" id="referencePubKeys" name="referencePubKeys"-->
<!--                 value="222843d54a8fdab39aa45f61f19f3ff79cc19385370f6a272dda81fade0a052b">-->
<!--          <input type="hidden" id="since" name="since" value=1712006760>-->
<!--          <input type="hidden" id="until" name="until" value=1712006761>-->
<!--          <input type="hidden" id="limit" name="limit" value=1>-->
        </div>

          <div class="form-group">
              <label>Side: </label>
              <div class="btn-group" role="group" aria-label="...">
                  <button type="button" class="btn btn-default" data-group="side" data-value="sell" >SELL</button>
                  <button type="button" class="btn btn-default" data-group="side" data-value="buy">BUY</button>
              </div>
          </div>

        <div class="form-group">
          <label>PaymentMethod: </label>
            <div class="btn-group" role="group" aria-label="...">
                <button type="button" class="btn btn-default" data-group="paymentMethod" data-value="cash" >CASH</button>
                <button type="button" class="btn btn-default" data-group="paymentMethod" data-value="alipay">ALIPAY</button>
                <button type="button" class="btn btn-default" data-group="paymentMethod" data-value="wechat">WECHAT</button>
                <button type="button" class="btn btn-default" data-group="paymentMethod" data-value="bank">BANK</button>
            </div>
        </div>

          <div class="form-group">
              <label>Symbol: </label>
              <div class="btn-group" role="group" aria-label="...">
                  <button type="button" class="btn btn-default" data-group="symbol" data-value="xrd" >XRD</button>
                  <button type="button" class="btn btn-default" data-group="symbol" data-value="usdt">USDT</button>
              </div>
          </div>

          <div class="form-group">
              <label>Currency: </label>
              <div class="btn-group" role="group" aria-label="...">
                  <button type="button" class="btn btn-default" data-group="currency" data-value="CNY" >CNY</button>
                  <button type="button" class="btn btn-default" data-group="currency" data-value="dollar">DOLLAR</button>
              </div>
          </div>

          <input type="hidden" id="side" name="side" value="">
          <input type="hidden" id="paymentMethod" name="paymentMethod" value="">
          <input type="hidden" id="symbol" name="symbol" value="">
          <input type="hidden" id="currency" name="currency" value="">

        <div class="row" align="center">
          <button id="send" class="btn btn-default" type="submit">Send</button>
        </div>
      </form>
    </div>
  </div>
  <br><br><br><br>
  <div class="row">
    <div class="col-md-12">
      <table id="conversation" class="table table-striped">
        <thead>
        <tr>
          <th>Events</th>
        </tr>
        </thead>
        <tbody id="events">
        </tbody>
      </table>
    </div>
  </div>
</div>

<script>
    $(document).ready(function() {
        $('.btn-group button').click(function() {
            var group = $(this).data('group');
            var selectedValues = [];
            // 切换点击按钮的 active 类
            $(this).toggleClass('active');

            // 获取所有选中按钮的值

            $('.btn-group button[data-group="' + group + '"].active').each(function() {
                selectedValues.push($(this).data('value'));
            });

            if (group == "side") {
                $('#side').val(selectedValues.join(','));
            }else if(group=="currency") {
                $('#currency').val(selectedValues.join(','));
            }else if(group == "symbol"){
                $('#symbol').val(selectedValues.join(','));
            }else if(group == "paymentMethod"){
                // 将选中的值拼接成一个字符串
                $('#paymentMethod').val(selectedValues.join(','));
            }

        });
    });
</script>
</body>
</html>
