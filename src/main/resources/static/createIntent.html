<!DOCTYPE html>
<link rel="shortcut icon" href="/favicon.ico">
<html>
<head>
    <title>Create Intent</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="/main.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/createIntent.js"></script>
    <script src="/js/common.js"></script>
</head>
<body>
<noscript><h2 style="color: #ff0000">Enable Javascript to view this page</h2></noscript>
<div id="main-content" class="container">
    <div class="row">
        <div class="col-md-6">
            <form class="form-inline">
                <div class="form-group">
                    <label for="connect">WebSocket connection:</label>
                    <button id="connect" class="btn btn-default" type="submit">Connect</button>
                    <button id="disconnect" class="btn btn-default" type="submit" disabled="disabled">Disconnect
                    </button>
                </div>
            </form>
        </div>
        <div class="col-md-6">
            <form class="form-horizontal">
                <div class="form-group">
                    <label for="title">Title: </label>
                    <input type="text" value="Custom Title" id="title" class="form-control" placeholder="listing title...">
                </div>
<!--                <div class="form-group">-->
<!--                    <label for="subject">Subject: </label>-->
<!--                    <input type="text" value="classified subject" id="subject" class="form-control" placeholder="subject...">-->
<!--                </div>-->
                <div class="form-group">
                    <label >Side: </label>
                    <div class="btn-group" role="group" aria-label="...">
                        <button type="button" class="btn btn-default active" data-group="side" data-value="sell">Sell</button>
                        <button type="button" class="btn btn-default" data-group="side" data-value="buy">Buy</button>
                    </div>
                </div>
<!--                <div class="form-group">-->
<!--                    <label for="summary">Summary: </label>-->
<!--                    <input type="text" value="classified summary" id="summary" class="form-control" placeholder="summary...">-->
<!--                </div>-->
                <div class="form-group">
                    <label for="userId">UserId: </label>
                    <input type="text" value="test.lighter.im" id="userId" class="form-control" placeholder="userId" readonly>
                </div>
                <div class="form-group">
                    <label for="pubkey">Pubkey: </label>
                    <input type="text" value="cccd79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984" id="pubkey" class="form-control" placeholder="pubkey" readonly>
                </div>
<!--                <div class="form-group">-->
<!--                    <label for="g_tag">GeoTag: </label>-->
<!--                    <input type="text" value="classified geo-tag-1" id="g_tag" class="form-control" placeholder="geo-tag">-->
<!--                </div>-->
<!--                <div class="form-group">-->
<!--                    <label for="t_tag">HashTag: </label>-->
<!--                    <input type="text" value="classified hash-tag-1111" id="t_tag" class="form-control" placeholder="t-tag">-->
<!--                </div>-->
<!--                <div class="form-group">-->
<!--                    <label for="location">Location</label>-->
<!--                    <input type="text" id="location" name="location" value="classified peroulades" class="form-control">-->
<!--                </div>-->
                <div class="form-group">
                    <label >Token</label>
                    <div class="btn-group" role="group" aria-label="...">
                        <button type="button" class="btn btn-default active" data-group="token" data-value1="xrd" data-value2="resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc">XRD</button>
                        <button type="button" class="btn btn-default" data-group="token" data-value1="usdt" data-value2="resource_tdx_2_1t42p2eyad03gly8txm28x4arzkx27wtjqtznz33smqt6ea2d7jlx2s">USDT</button>
                    </div>
                </div>
                <div class="form-group">
                    <label >Amount</label>
                    <input type="text" value="1000" id="amount" class="form-control" placeholder="amount">
                </div>
                <div class="form-group">
                    <label >Currency</label>
                    <div class="btn-group" role="group" aria-label="...">
                        <button type="button" class="btn btn-default active" data-group="currency" data-value="CNY">CNY</button>
                        <button type="button" class="btn btn-default" data-group="currency" data-value="DOLLAR">DOLLAR</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="number">Price</label>
                    <input type="text" id="number" name="number" value=271 class="form-control">
                </div>
                <div class="form-group">
                    <label>PaymentMethod</label>
                    <div class="btn-group" role="group" aria-label="...">
                        <button type="button" class="btn btn-default active" data-group="paymentMethod" data-value="cash,1,2,3,4" >CASH</button>
                        <button type="button" class="btn btn-default" data-group="paymentMethod" data-value="alipay,dust_lee@189.cn,qrcode,111">ALIPAY</button>
                        <button type="button" class="btn btn-default" data-group="paymentMethod" data-value="wechat,dustplus,qrcode,111">WECHAT</button>
                        <button type="button" class="btn btn-default" data-group="paymentMethod" data-value="bank,123456789,qrcode,111">BANK</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="content">Content: </label>
                    <input type="text" value="Custom Content" id="content" class="form-control" placeholder="content in markdown...">
                </div>
                <input type="hidden" id="account" name="account" value="dust_lee@189.cn">
                <input type="hidden" id="kind" name="kind" value=30077>
                <input type="hidden" id="side" name="side" value="sell">
                <input type="hidden" id="currency" name="currency" value="CNY">
                <input type="hidden" id="symbol" name="symbol" value="xrd">
                <input type="hidden" id="chain" name="chain" value="radixDLT">
                <input type="hidden" id="token_addr" name="token_addr" value="resource_tdx_2_1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxtfd2jc">
                <input type="hidden" id="paymentMethod" name="paymentMethod" value="cash">
                <!--                    below refers to another event-->
<!--                <input type="hidden" id="e_tag" name="e_tag"-->
<!--                       value="494001ac0c8af2a10f60f23538e5b35d3cdacb8e1cc956fe7a16dfa5cbfc4346">-->
                <!--                    below refers to another user -->
<!--                <input type="hidden" id="p_tag" name="p_tag"-->
<!--                       value="2bed79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984">-->
                <!--                    optional: below refers to another replaceable event-->
                <!--                <input type="hidden" id="a" name="a" value="2bed79f81439ff794cf5ac5f7bff9121e257f399829e472c7a14d3e86fe76984">-->

                <button id="send" class="btn btn-default" type="submit">Send</button>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <table id="conversation" class="table table-striped">
                <thead>
                <tr>
                    <th>Events</th>
                </tr>
                </thead>
                <tbody id="events">
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $('.btn-group button').click(function() {
            var group = $(this).data('group');
            if (group == "side") {
                // 获取被点击按钮的值
                var value = $(this).data('value');
                // 设置到隐藏字段
                $('#side').val(value);

                $('.btn-group button[data-group="' + group + '"]').removeClass('active');
                $(this).addClass('active');
            }else if(group=="currency") {
                var value1 = $(this).data('value1');
                var value2 = $(this).data('value2');
                // 设置到隐藏字段
                $('#symbol').val(value1);
                $('#token_addr').val(value2);

                $('.btn-group button[data-group="' + group + '"]').removeClass('active');
                $(this).addClass('active');
            }else if(group == "token"){
                // 获取被点击按钮的值
                var value = $(this).data('value');
                // 设置到隐藏字段
                $('#token').val(value);

                $('.btn-group button[data-group="' + group + '"]').removeClass('active');
                $(this).addClass('active');
            }else if(group == "paymentMethod"){
                // 切换点击按钮的 active 类
                $(this).toggleClass('active');

                // 获取所有选中按钮的值
                var selectedValues = [];
                $('.btn-group button[data-group="' + group + '"].active').each(function() {
                    selectedValues.push($(this).data('value'));
                });

                // 将选中的值拼接成一个字符串
                $('#paymentMethod').val(selectedValues.join(','));
            }


        });
    });
</script>
</body>
</html>
